{"ast":null,"code":"var _jsxFileName = \"D:\\\\shiftnft\\\\frontend\\\\src\\\\Intro.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport \"./intro.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Intro({\n  onFinish\n}) {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [progress, setProgress] = useState(0);\n  async function startShift() {\n    setLoading(true);\n    await preloadAssets(setProgress);\n    setTimeout(() => {\n      onFinish();\n    }, 300);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"intro-container\",\n    children: !loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/logo.png\",\n        className: \"intro-logo\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcome back, worker.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"shift-btn\",\n        onClick: startShift,\n        children: \"Start Your Shift\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-overlay\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-box\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-bar\",\n          style: {\n            width: `${progress}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"loading-text\",\n        children: [\"Loading \", progress, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n}\n\n/* ============================\r\n   PRELOAD FUNCTION CU PROGRES\r\n   ============================ */\n_s(Intro, \"qiZlHi8cM+ApbNINJNHOY/tLKfc=\");\n_c = Intro;\nasync function preloadAssets(setProgress) {\n  const files = [\"/Back.webm\", \"/Wall.png\", \"/Front.png\", \"/Cup.png\", \"/Order.png\", \"/Shifter.gif\", \"/About.webm\", \"/AboutHover.webm\", \"/game.webm\", \"/play.webm\", \"/mint.webm\", \"/minthover.webm\"];\n  const imageExt = [\".png\", \".jpg\", \".jpeg\", \".gif\", \".webp\"];\n  const videoExt = [\".webm\", \".mp4\", \".mov\"];\n  let loaded = 0;\n  async function updateProgress() {\n    loaded++;\n    const pct = Math.round(loaded / files.length * 100);\n    setProgress(pct);\n  }\n  const promises = files.map(file => {\n    const ext = file.slice(file.lastIndexOf(\".\")).toLowerCase();\n    return new Promise(resolve => {\n      if (imageExt.includes(ext)) {\n        const img = new Image();\n        img.onload = () => {\n          updateProgress();\n          resolve();\n        };\n        img.onerror = () => {\n          updateProgress();\n          resolve();\n        };\n        img.src = file;\n      } else if (videoExt.includes(ext)) {\n        fetch(file).then(() => {\n          updateProgress();\n          resolve();\n        }).catch(() => {\n          updateProgress();\n          resolve();\n        });\n      } else {\n        updateProgress();\n        resolve();\n      }\n    });\n  });\n  await Promise.all(promises);\n}\nvar _c;\n$RefreshReg$(_c, \"Intro\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","Fragment","_Fragment","Intro","onFinish","_s","loading","setLoading","progress","setProgress","startShift","preloadAssets","setTimeout","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","width","_c","files","imageExt","videoExt","loaded","updateProgress","pct","Math","round","length","promises","map","file","ext","slice","lastIndexOf","toLowerCase","Promise","resolve","includes","img","Image","onload","onerror","fetch","then","catch","all","$RefreshReg$"],"sources":["D:/shiftnft/frontend/src/Intro.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport \"./intro.css\";\r\n\r\nexport default function Intro({ onFinish }) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n\r\n  async function startShift() {\r\n    setLoading(true);\r\n\r\n    await preloadAssets(setProgress);\r\n\r\n    setTimeout(() => {\r\n      onFinish();\r\n    }, 300);\r\n  }\r\n\r\n  return (\r\n    <div className=\"intro-container\">\r\n      {!loading ? (\r\n        <>\r\n          <img src=\"/logo.png\" className=\"intro-logo\" alt=\"\" />\r\n\r\n          <h1>Welcome back, worker.</h1>\r\n\r\n          <button className=\"shift-btn\" onClick={startShift}>\r\n            Start Your Shift\r\n          </button>\r\n        </>\r\n      ) : (\r\n        <div className=\"loading-overlay\">\r\n          <div className=\"loading-box\">\r\n            <div className=\"loading-bar\" style={{ width: `${progress}%` }} />\r\n          </div>\r\n\r\n          <p className=\"loading-text\">Loading {progress}%</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ============================\r\n   PRELOAD FUNCTION CU PROGRES\r\n   ============================ */\r\nasync function preloadAssets(setProgress) {\r\n  const files = [\r\n    \"/Back.webm\",\r\n    \"/Wall.png\",\r\n    \"/Front.png\",\r\n    \"/Cup.png\",\r\n    \"/Order.png\",\r\n    \"/Shifter.gif\",\r\n    \"/About.webm\",\r\n    \"/AboutHover.webm\",\r\n    \"/game.webm\",\r\n    \"/play.webm\",\r\n    \"/mint.webm\",\r\n    \"/minthover.webm\"\r\n  ];\r\n\r\n  const imageExt = [\".png\", \".jpg\", \".jpeg\", \".gif\", \".webp\"];\r\n  const videoExt = [\".webm\", \".mp4\", \".mov\"];\r\n\r\n  let loaded = 0;\r\n\r\n  async function updateProgress() {\r\n    loaded++;\r\n    const pct = Math.round((loaded / files.length) * 100);\r\n    setProgress(pct);\r\n  }\r\n\r\n  const promises = files.map((file) => {\r\n    const ext = file.slice(file.lastIndexOf(\".\")).toLowerCase();\r\n\r\n    return new Promise((resolve) => {\r\n      if (imageExt.includes(ext)) {\r\n        const img = new Image();\r\n        img.onload = () => { updateProgress(); resolve(); };\r\n        img.onerror = () => { updateProgress(); resolve(); };\r\n        img.src = file;\r\n      } else if (videoExt.includes(ext)) {\r\n        fetch(file)\r\n          .then(() => { updateProgress(); resolve(); })\r\n          .catch(() => { updateProgress(); resolve(); });\r\n      } else {\r\n        updateProgress();\r\n        resolve();\r\n      }\r\n    });\r\n  });\r\n\r\n  await Promise.all(promises);\r\n}\r\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAO,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAErB,eAAe,SAASC,KAAKA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC1C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC;EAE3C,eAAeY,UAAUA,CAAA,EAAG;IAC1BH,UAAU,CAAC,IAAI,CAAC;IAEhB,MAAMI,aAAa,CAACF,WAAW,CAAC;IAEhCG,UAAU,CAAC,MAAM;MACfR,QAAQ,CAAC,CAAC;IACZ,CAAC,EAAE,GAAG,CAAC;EACT;EAEA,oBACEJ,OAAA;IAAKa,SAAS,EAAC,iBAAiB;IAAAC,QAAA,EAC7B,CAACR,OAAO,gBACPN,OAAA,CAAAE,SAAA;MAAAY,QAAA,gBACEd,OAAA;QAAKe,GAAG,EAAC,WAAW;QAACF,SAAS,EAAC,YAAY;QAACG,GAAG,EAAC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAErDpB,OAAA;QAAAc,QAAA,EAAI;MAAqB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAE9BpB,OAAA;QAAQa,SAAS,EAAC,WAAW;QAACQ,OAAO,EAAEX,UAAW;QAAAI,QAAA,EAAC;MAEnD;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA,eACT,CAAC,gBAEHpB,OAAA;MAAKa,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAC9Bd,OAAA;QAAKa,SAAS,EAAC,aAAa;QAAAC,QAAA,eAC1Bd,OAAA;UAAKa,SAAS,EAAC,aAAa;UAACS,KAAK,EAAE;YAAEC,KAAK,EAAE,GAAGf,QAAQ;UAAI;QAAE;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9D,CAAC,eAENpB,OAAA;QAAGa,SAAS,EAAC,cAAc;QAAAC,QAAA,GAAC,UAAQ,EAACN,QAAQ,EAAC,GAAC;MAAA;QAAAS,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChD;EACN;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;;AAEA;AACA;AACA;AAFAf,EAAA,CAvCwBF,KAAK;AAAAqB,EAAA,GAALrB,KAAK;AA0C7B,eAAeQ,aAAaA,CAACF,WAAW,EAAE;EACxC,MAAMgB,KAAK,GAAG,CACZ,YAAY,EACZ,WAAW,EACX,YAAY,EACZ,UAAU,EACV,YAAY,EACZ,cAAc,EACd,aAAa,EACb,kBAAkB,EAClB,YAAY,EACZ,YAAY,EACZ,YAAY,EACZ,iBAAiB,CAClB;EAED,MAAMC,QAAQ,GAAG,CAAC,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,CAAC;EAC3D,MAAMC,QAAQ,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,CAAC;EAE1C,IAAIC,MAAM,GAAG,CAAC;EAEd,eAAeC,cAAcA,CAAA,EAAG;IAC9BD,MAAM,EAAE;IACR,MAAME,GAAG,GAAGC,IAAI,CAACC,KAAK,CAAEJ,MAAM,GAAGH,KAAK,CAACQ,MAAM,GAAI,GAAG,CAAC;IACrDxB,WAAW,CAACqB,GAAG,CAAC;EAClB;EAEA,MAAMI,QAAQ,GAAGT,KAAK,CAACU,GAAG,CAAEC,IAAI,IAAK;IACnC,MAAMC,GAAG,GAAGD,IAAI,CAACE,KAAK,CAACF,IAAI,CAACG,WAAW,CAAC,GAAG,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IAE3D,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;MAC9B,IAAIhB,QAAQ,CAACiB,QAAQ,CAACN,GAAG,CAAC,EAAE;QAC1B,MAAMO,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;QACvBD,GAAG,CAACE,MAAM,GAAG,MAAM;UAAEjB,cAAc,CAAC,CAAC;UAAEa,OAAO,CAAC,CAAC;QAAE,CAAC;QACnDE,GAAG,CAACG,OAAO,GAAG,MAAM;UAAElB,cAAc,CAAC,CAAC;UAAEa,OAAO,CAAC,CAAC;QAAE,CAAC;QACpDE,GAAG,CAAC7B,GAAG,GAAGqB,IAAI;MAChB,CAAC,MAAM,IAAIT,QAAQ,CAACgB,QAAQ,CAACN,GAAG,CAAC,EAAE;QACjCW,KAAK,CAACZ,IAAI,CAAC,CACRa,IAAI,CAAC,MAAM;UAAEpB,cAAc,CAAC,CAAC;UAAEa,OAAO,CAAC,CAAC;QAAE,CAAC,CAAC,CAC5CQ,KAAK,CAAC,MAAM;UAAErB,cAAc,CAAC,CAAC;UAAEa,OAAO,CAAC,CAAC;QAAE,CAAC,CAAC;MAClD,CAAC,MAAM;QACLb,cAAc,CAAC,CAAC;QAChBa,OAAO,CAAC,CAAC;MACX;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,MAAMD,OAAO,CAACU,GAAG,CAACjB,QAAQ,CAAC;AAC7B;AAAC,IAAAV,EAAA;AAAA4B,YAAA,CAAA5B,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}