{"ast":null,"code":"var _jsxFileName = \"D:\\\\shiftnft\\\\frontend\\\\src\\\\AuthModal.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport \"./authmodal.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AuthModal({\n  onClose,\n  onSuccess\n}) {\n  _s();\n  const [isLogin, setIsLogin] = useState(true);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  function generatePass() {\n    const pass = Math.random().toString(36).slice(2, 10);\n    setPassword(pass);\n  }\n  async function submitForm(e) {\n    e.preventDefault();\n    const API_BASE = process.env.REACT_APP_API;\n    fetch(`${API_BASE}${endpoint}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    });\n    const data = await res.json();\n    if (!res.ok) {\n      alert(data.error);\n      return;\n    }\n    localStorage.setItem(\"shift_username\", username);\n    localStorage.setItem(\"shift_token\", data.token);\n    onSuccess();\n    onClose();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"close-btn\",\n        onClick: onClose,\n        children: \"\\u2716 Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-title\",\n        children: isLogin ? \"Login\" : \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submitForm,\n        className: \"auth-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"auth-input\",\n          placeholder: \"Username\",\n          maxLength: 16 // limitƒÉ hard\n          ,\n          value: username,\n          onChange: e => {\n            let val = e.target.value;\n\n            // AcceptƒÉ doar litere, cifre »ôi _\n            val = val.replace(/[^a-zA-Z0-9_]/g, \"\");\n            setUsername(val);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), username.length >= 16 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"limit-warning\",\n          children: \"Maximum 16 characters allowed.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"password-wrapper\",\n          onMouseEnter: () => setShowPassword(true),\n          onMouseLeave: () => setShowPassword(false),\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"auth-input\",\n            type: showPassword ? \"text\" : \"password\",\n            placeholder: \"Password\",\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"show-pass-hint\",\n            children: \"\\uD83D\\uDC41 Hover to reveal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), !isLogin && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"pass-gen-btn\",\n          onClick: generatePass,\n          children: \"Generate Random Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"auth-btn\",\n          type: \"submit\",\n          children: isLogin ? \"Login\" : \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-switch\",\n        onClick: () => {\n          setIsLogin(!isLogin);\n          setPassword(\"\");\n        },\n        children: isLogin ? \"Need an account? Sign up\" : \"Already have an account? Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(AuthModal, \"bB5PbjAiXgM3N1rdDINUGtpAxFI=\");\n_c = AuthModal;\nvar _c;\n$RefreshReg$(_c, \"AuthModal\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","AuthModal","onClose","onSuccess","_s","isLogin","setIsLogin","username","setUsername","password","setPassword","showPassword","setShowPassword","generatePass","pass","Math","random","toString","slice","submitForm","e","preventDefault","API_BASE","process","env","REACT_APP_API","fetch","endpoint","method","headers","body","JSON","stringify","data","res","json","ok","alert","error","localStorage","setItem","token","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","maxLength","value","onChange","val","target","replace","length","onMouseEnter","onMouseLeave","type","_c","$RefreshReg$"],"sources":["D:/shiftnft/frontend/src/AuthModal.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport \"./authmodal.css\";\r\n\r\nexport default function AuthModal({ onClose, onSuccess }) {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  function generatePass() {\r\n    const pass = Math.random().toString(36).slice(2, 10);\r\n    setPassword(pass);\r\n  }\r\n\r\n  async function submitForm(e) {\r\n    e.preventDefault();\r\n\r\n    const API_BASE = process.env.REACT_APP_API;\r\n\r\n\r\n    fetch(`${API_BASE}${endpoint}`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ username, password })\r\n    });\r\n    \r\n\r\n    const data = await res.json();\r\n\r\n    if (!res.ok) {\r\n      alert(data.error);\r\n      return;\r\n    }\r\n\r\n    localStorage.setItem(\"shift_username\", username);\r\n    localStorage.setItem(\"shift_token\", data.token);\r\n\r\n    onSuccess();\r\n    onClose();\r\n  }\r\n\r\n  return (\r\n    <div className=\"auth-overlay\">\r\n      <div className=\"auth-box\">\r\n\r\n        <div className=\"close-btn\" onClick={onClose}>\r\n          ‚úñ Close\r\n        </div>\r\n\r\n        <div className=\"auth-title\">\r\n          {isLogin ? \"Login\" : \"Sign Up\"}\r\n        </div>\r\n\r\n        <form onSubmit={submitForm} className=\"auth-form\">\r\n\r\n          {/* USERNAME INPUT CU LIMITƒÇ */}\r\n          <input\r\n            className=\"auth-input\"\r\n            placeholder=\"Username\"\r\n            maxLength={16} // limitƒÉ hard\r\n            value={username}\r\n            onChange={(e) => {\r\n              let val = e.target.value;\r\n\r\n              // AcceptƒÉ doar litere, cifre »ôi _\r\n              val = val.replace(/[^a-zA-Z0-9_]/g, \"\");\r\n\r\n              setUsername(val);\r\n            }}\r\n          />\r\n\r\n          {/* Warning la limitƒÉ */}\r\n          {username.length >= 16 && (\r\n            <div className=\"limit-warning\">\r\n              Maximum 16 characters allowed.\r\n            </div>\r\n          )}\r\n\r\n          {/* PASSWORD INPUT */}\r\n          <div\r\n            className=\"password-wrapper\"\r\n            onMouseEnter={() => setShowPassword(true)}\r\n            onMouseLeave={() => setShowPassword(false)}\r\n          >\r\n            <input\r\n              className=\"auth-input\"\r\n              type={showPassword ? \"text\" : \"password\"}\r\n              placeholder=\"Password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n\r\n            <span className=\"show-pass-hint\">üëÅ Hover to reveal</span>\r\n          </div>\r\n\r\n          {/* GENERATE PASSWORD BTN doar la signup */}\r\n          {!isLogin && (\r\n            <button\r\n              type=\"button\"\r\n              className=\"pass-gen-btn\"\r\n              onClick={generatePass}\r\n            >\r\n              Generate Random Password\r\n            </button>\r\n          )}\r\n\r\n          <button className=\"auth-btn\" type=\"submit\">\r\n            {isLogin ? \"Login\" : \"Sign Up\"}\r\n          </button>\r\n\r\n        </form>\r\n\r\n        <div\r\n          className=\"auth-switch\"\r\n          onClick={() => {\r\n            setIsLogin(!isLogin);\r\n            setPassword(\"\");\r\n          }}\r\n        >\r\n          {isLogin ? \"Need an account? Sign up\" : \"Already have an account? Login\"}\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}