{"ast":null,"code":"var _jsxFileName = \"D:\\\\shiftnft\\\\frontend\\\\src\\\\LoadingScreen.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport \"./loading.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoadingScreen({\n  onLoaded\n}) {\n  _s();\n  const [progress, setProgress] = useState(0);\n  const realLoaded = useRef(false);\n  const animationDone = useRef(false);\n\n  /* ============================\r\n     1) SIMULATED PROGRESS (0 → 100)\r\n     ============================ */\n  useEffect(() => {\n    let current = 0;\n    const interval = setInterval(() => {\n      current += 2; // speed\n      setProgress(current);\n      if (current >= 100) {\n        clearInterval(interval);\n        animationDone.current = true;\n\n        // dacă și fișierele sunt gata → intră în ShiftRoom\n        if (realLoaded.current) {\n          setTimeout(onLoaded, 300);\n        }\n      }\n    }, 20); // ~1s total\n\n    return () => clearInterval(interval);\n  }, []);\n\n  /* ============================\r\n     2) REAL FILE PRELOADING\r\n     ============================ */\n  useEffect(() => {\n    const assets = [\"/Wall.png\", \"/Front.png\", \"/Shifter.gif\", \"/Back.webm\", \"/About.webm\", \"/AboutHover.webm\", \"/play.webm\", \"/game.webm\", \"/mint.webm\", \"/minthover.webm\"];\n    let loaded = 0;\n    const checkDone = () => {\n      loaded++;\n      if (loaded === assets.length) {\n        realLoaded.current = true;\n\n        // dacă animația e gata → intră în ShiftRoom\n        if (animationDone.current) {\n          setTimeout(onLoaded, 300);\n        }\n      }\n    };\n    assets.forEach(src => {\n      const isVideo = src.endsWith(\".webm\") || src.endsWith(\".mp4\");\n      const el = isVideo ? document.createElement(\"video\") : new Image();\n      el.src = src;\n      el.onload = el.onloadeddata = checkDone;\n      el.onerror = checkDone;\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading-circle-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-ring\",\n      children: [dots, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-percent\",\n        children: [progress, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-text\",\n      children: \"Preparing your shift...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n_s(LoadingScreen, \"JrE1o1lFrx6V5YrUWzHgdyfixTI=\");\n_c = LoadingScreen;\nvar _c;\n$RefreshReg$(_c, \"LoadingScreen\");","map":{"version":3,"names":["useState","useEffect","useRef","jsxDEV","_jsxDEV","LoadingScreen","onLoaded","_s","progress","setProgress","realLoaded","animationDone","current","interval","setInterval","clearInterval","setTimeout","assets","loaded","checkDone","length","forEach","src","isVideo","endsWith","el","document","createElement","Image","onload","onloadeddata","onerror","className","children","dots","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/shiftnft/frontend/src/LoadingScreen.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport \"./loading.css\";\r\n\r\nexport default function LoadingScreen({ onLoaded }) {\r\n  const [progress, setProgress] = useState(0);\r\n  const realLoaded = useRef(false);\r\n  const animationDone = useRef(false);\r\n\r\n  /* ============================\r\n     1) SIMULATED PROGRESS (0 → 100)\r\n     ============================ */\r\n  useEffect(() => {\r\n    let current = 0;\r\n\r\n    const interval = setInterval(() => {\r\n      current += 2; // speed\r\n      setProgress(current);\r\n\r\n      if (current >= 100) {\r\n        clearInterval(interval);\r\n        animationDone.current = true;\r\n\r\n        // dacă și fișierele sunt gata → intră în ShiftRoom\r\n        if (realLoaded.current) {\r\n          setTimeout(onLoaded, 300);\r\n        }\r\n      }\r\n    }, 20); // ~1s total\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  /* ============================\r\n     2) REAL FILE PRELOADING\r\n     ============================ */\r\n  useEffect(() => {\r\n    const assets = [\r\n      \"/Wall.png\",\r\n      \"/Front.png\",\r\n      \"/Shifter.gif\",\r\n      \"/Back.webm\",\r\n      \"/About.webm\",\r\n      \"/AboutHover.webm\",\r\n      \"/play.webm\",\r\n      \"/game.webm\",\r\n      \"/mint.webm\",\r\n      \"/minthover.webm\"\r\n    ];\r\n\r\n    let loaded = 0;\r\n\r\n    const checkDone = () => {\r\n      loaded++;\r\n      if (loaded === assets.length) {\r\n        realLoaded.current = true;\r\n\r\n        // dacă animația e gata → intră în ShiftRoom\r\n        if (animationDone.current) {\r\n          setTimeout(onLoaded, 300);\r\n        }\r\n      }\r\n    };\r\n\r\n    assets.forEach((src) => {\r\n      const isVideo = src.endsWith(\".webm\") || src.endsWith(\".mp4\");\r\n      const el = isVideo ? document.createElement(\"video\") : new Image();\r\n      el.src = src;\r\n\r\n      el.onload = el.onloadeddata = checkDone;\r\n      el.onerror = checkDone;\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"loading-circle-container\">\r\n\r\n    <div className=\"loading-ring\">\r\n      {dots}\r\n      <div className=\"loading-percent\">{progress}%</div>\r\n    </div>\r\n  \r\n    <div className=\"loading-text\">Preparing your shift...</div>\r\n  </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}